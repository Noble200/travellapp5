<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="using:Allva.Desktop.ViewModels.Admin"
             x:Class="Allva.Desktop.Views.Admin.AdminDashboardView"
             x:DataType="vm:AdminDashboardViewModel">

    <Design.DataContext>
        <vm:AdminDashboardViewModel />
    </Design.DataContext>

    <!-- Importar estilos especÃ­ficos del admin -->
    <UserControl.Styles>
        <StyleInclude Source="AdminDashboardView.Styles.axaml"/>
    </UserControl.Styles>

    <!-- ============================================ -->
    <!-- PANEL DE ADMINISTRACIÃ“N -->
    <!-- 3 mÃ³dulos: GestiÃ³n de Comercios, Usuarios y Usuarios Allva -->
    <!-- ============================================ -->

    <Grid>
        <!-- Fondo amarillo corporativo -->
        <Border Classes="admin-background" />

        <!-- Grid principal: Sidebar + Contenido -->
        <Grid ColumnDefinitions="220,*">
            
            <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
            <!-- SIDEBAR BLANCO (Menu lateral izquierdo) -->
            <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
            <Border Grid.Column="0" Classes="admin-sidebar">
                <StackPanel>
                    
                    <!-- Logo Allva -->
                    <Border Classes="admin-logo-container">
                        <TextBlock Classes="admin-logo-text"/>
                    </Border>

                    <!-- Separador -->
                    <Border Classes="admin-menu-separator"/>

                    <!-- SecciÃ³n: Panel de AdministraciÃ³n -->
                    <TextBlock Text="Panel de AdministraciÃ³n"
                               FontSize="13"
                               Foreground="#808080"
                               Padding="20,15,20,8"
                               FontWeight="Medium"/>

                    <!-- MenÃº de navegaciÃ³n - 3 mÃ³dulos -->
                    <StackPanel>
                        
                        <!-- GestiÃ³n de comercios -->
                        <Button Classes="admin-menu-item"
                                Classes.active="{Binding SelectedModule, Converter={x:Static ObjectConverters.Equal}, ConverterParameter='comercios'}"
                                Command="{Binding NavigateToModuleCommand}"
                                CommandParameter="comercios"
                                IsVisible="{Binding MostrarGestionComercios}">
                            <TextBlock Text="GestiÃ³n de comercios" Classes="admin-menu-text"/>
                        </Button>

                        <!-- GestiÃ³n de usuarios (locales) -->
                        <Button Classes="admin-menu-item"
                                Classes.active="{Binding SelectedModule, Converter={x:Static ObjectConverters.Equal}, ConverterParameter='usuarios'}"
                                Command="{Binding NavigateToModuleCommand}"
                                CommandParameter="usuarios"
                                IsVisible="{Binding MostrarGestionUsuarios}">
                            <TextBlock Text="GestiÃ³n de usuarios" Classes="admin-menu-text"/>
                        </Button>

                        <!-- Usuarios Allva (administradores) -->
                        <Button Classes="admin-menu-item"
                                Classes.active="{Binding SelectedModule, Converter={x:Static ObjectConverters.Equal}, ConverterParameter='usuarios_allva'}"
                                Command="{Binding NavigateToModuleCommand}"
                                CommandParameter="usuarios_allva"
                                IsVisible="{Binding MostrarUsuariosAllva}">
                            <TextBlock Text="Usuarios Allva" Classes="admin-menu-text"/>
                        </Button>

                    </StackPanel>

                    <!-- Espaciador para empujar el botÃ³n de cerrar sesiÃ³n al fondo -->
                    <Border Height="1" Margin="0,30,0,0"/>

                    <!-- BotÃ³n Cerrar SesiÃ³n al final -->
                    <Button Classes="admin-menu-item"
                            Command="{Binding LogoutCommand}"
                            VerticalAlignment="Bottom"
                            Margin="0,20,0,20">
                        <StackPanel Orientation="Horizontal" Spacing="10">
                            <TextBlock Text="ðŸšª" FontSize="16" VerticalAlignment="Center"/>
                            <TextBlock Text="Cerrar SesiÃ³n" Classes="admin-menu-text"/>
                        </StackPanel>
                    </Button>

                </StackPanel>
            </Border>

            <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
            <!-- CONTENIDO PRINCIPAL (Ãrea de trabajo) -->
            <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
            <Border Grid.Column="1" Classes="admin-content-panel">
                
                <Grid ColumnDefinitions="*" RowDefinitions="*">

                    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
                    <!-- ÃREA DE CONTENIDO PRINCIPAL -->
                    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
                    <Grid Grid.Column="1" RowDefinitions="Auto,*">
                        
                        <!-- Header del mÃ³dulo (azul oscuro) -->
                        <Border Grid.Row="0" Classes="admin-module-header">
                            <TextBlock Text="{Binding SelectedModuleTitle}" 
                                       Classes="admin-module-title"/>
                        </Border>

                        <!-- Contenido dinÃ¡mico del mÃ³dulo -->
                        <ScrollViewer Grid.Row="1" 
                                      VerticalScrollBarVisibility="Auto"
                                      Padding="0">
                            <ContentControl Content="{Binding CurrentView}"
                                            HorizontalAlignment="Stretch"
                                            VerticalAlignment="Stretch"/>
                        </ScrollViewer>

                    </Grid>

                </Grid>

            </Border>

        </Grid>
    </Grid>

</UserControl>
